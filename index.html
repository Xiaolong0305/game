<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Last Signal: Echoes From the Ether</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'VT323', monospace;
            background-color: #111;
            color: #FFBE00;
        }
        #game-container::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
            animation: flicker-slow 7s infinite;
        }
        @keyframes flicker-slow {
            0% { opacity: 1; }
            50% { opacity: 0.8; }
            100% { opacity: 1; }
        }
        @keyframes flicker-fast {
            0% { opacity: 1; }
            30% { opacity: 0.7; }
            40% { opacity: 1; }
            70% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        @keyframes screen-shake {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(-2px, 2px); }
            50% { transform: translate(2px, -2px); }
            75% { transform: translate(2px, 2px); }
            100% { transform: translate(-2px, -2px); }
        }
        @keyframes static-anim {
            0% { opacity: 0; }
            10% { opacity: 0.1; }
            20% { opacity: 0.05; }
            30% { opacity: 0.2; }
            40% { opacity: 0.1; }
            50% { opacity: 0.25; }
            60% { opacity: 0.15; }
            70% { opacity: 0.3; }
            80% { opacity: 0.2; }
            90% { opacity: 0.4; }
            100% { opacity: 0; }
        }
        @keyframes border-flicker {
            0% { border-color: rgba(255, 190, 0, 0.3); }
            50% { border-color: rgba(255, 190, 0, 0.8); }
            100% { border-color: rgba(255, 190, 0, 0.3); }
        }
        @keyframes highlight-item {
            0% { color: #FFBE00; text-shadow: none; }
            50% { color: #FFFFFF; text-shadow: 0 0 8px #FFFFFF; }
            100% { color: #FFBE00; text-shadow: none; }
        }
        @keyframes crucial-glow {
            0%, 100% { color: #ffbe00; text-shadow: 0 0 3px #ffbe00; }
            50% { color: #ffd966; text-shadow: 0 0 8px #ff9900; }
        }
        @keyframes echo-glitch-anim {
            0% { transform: translate(0,0) scale(1); opacity: 1; text-shadow: 0 0 5px #00FFFF; }
            25% { transform: translate(-1px, 1px) scale(1.01); opacity: 0.8; }
            50% { transform: translate(1px, -1px) scale(0.99); opacity: 1; }
            75% { text-shadow: 0 0 10px #FF00FF; color: #FF00FF; }
            100% { transform: translate(0,0) scale(1); opacity: 1; text-shadow: 0 0 5px #00FFFF; }
        }
        @keyframes flash-fade {
            0% { opacity: 0; }
            25% { opacity: 1; }
            75% { opacity: 1; }
            100% { opacity: 0; }
        }
        .item-added-highlight {
            animation: highlight-item 1.5s ease-out;
        }
        .crucial-item-highlight {
            animation: crucial-glow 2s infinite ease-in-out;
        }
        .vignette::before {
            content: "";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            box-shadow: inset 0 0 15vw rgba(0,0,0,0.85);
            pointer-events: none;
            z-index: 10;
        }
        .animate-static::before {
            content: "";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXVuZmaEhISfn5+Li4uWlpaRkZF/f39sbGxvb29oGyD+//+dnZ1/f39wcHBgZ2Z0dHT5+fn29vby8vJwcHCKioobJSW6AAAAEHRSTlMAlBCs5kC5/P5x5f5s5Uf3s5PCZgAAAhtJREFUeNq1l9tygyAMhm1d2yTe5/7/Z9s1V0K4GfDwbhtw284920AVi8ViiT3f/d8e3d6fM/Pz8/b29v3m5qa3t7dYW1v5+fnD6urq6Pj4+N/f3/7+frq8vPTz8+Pr6+v7x8fHx8fHx8fHh4eHh4eHh4eHh4ehgaGhoYHR0dERET4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+-AAAFB6d3N0AAAAABwgjV8AAAAMAWNIUkABAA2AAAA6AAAA4AAmwB992nPAAAAAg5JREFUeNpiZGZk4DIwYGBgYMDAwMTAzMAEAIxSAAAHAAEA/fW6BAAAAABJRU5ErkJggg==');
            z-index: 15;
            pointer-events: none;
            animation: static-anim 0.05s infinite steps(1);
        }
        #player-avatar-container {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            z-index: 20;
            border: 2px solid rgba(255, 190, 0, 0.3);
            padding: 0.5rem;
            background: rgba(0,0,0,0.7);
            box-shadow: 0 0 15px rgba(255,190,0,0.3);
        }
        .pixel-avatar {
            --pixel-size: 3px;
            width: var(--pixel-size);
            height: var(--pixel-size);
            background: transparent;
        }
        #echo-dialogue {
            border-color: rgba(0, 255, 255, 0.4);
            background-color: rgba(0, 50, 50, 0.2);
            color: #00FFFF;
            text-shadow: 0 0 5px #00FFFF, 0 0 10px #00FFFF;
        }
        .echo-glitch {
            animation: echo-glitch-anim 0.2s infinite steps(1);
        }
        .animate-border-flicker {
            animation: border-flicker 0.1s infinite;
        }
        .animate-flicker-fast {
            animation: flicker-fast 0.15s infinite;
        }
        .animate-screen-shake {
            animation: screen-shake 0.3s infinite steps(1);
        }

        /* Gallery and Codex styles */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 1rem;
        }
        .gallery-item {
            border: 2px solid rgba(255, 190, 0, 0.3);
            background: #000;
            aspect-ratio: 1/1;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
        }
        .gallery-item:hover {
            border-color: #FFBE00;
            box-shadow: 0 0 15px #FFBE00;
            transform: scale(1.05);
        }
        .gallery-item-locked {
            font-size: 3rem;
            color: rgba(255, 190, 0, 0.3);
        }
        .codex-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .codex-list-item {
            border: 1px solid rgba(255, 190, 0, 0.3);
            padding: 0.75rem 1rem;
            background: rgba(0,0,0,0.4);
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            transform-origin: center;
        }
        .codex-list-item:hover {
             border-color: #FFBE00;
             background: rgba(255, 190, 0, 0.1);
             transform: scale(1.02);
        }

        .flash-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            animation: flash-fade 0.3s ease-in-out;
            pointer-events: none;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <!-- Audio Elements -->
    <audio id="ambient-sound" loop preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/10/30/audio_5893006d12.mp3" type="audio/mpeg">
    </audio>
    <audio id="sanity-loss-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_2801a6d136.mp3" type="audio/mpeg">
    </audio>
    <audio id="event-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/10/24/audio_3079f2913e.mp3" type="audio/mpeg">
    </audio>
    <audio id="click-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/11/22/audio_130319163d.mp3" type="audio/mpeg">
    </audio>
    <audio id="item-pickup-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_23b371199a.mp3" type="audio/mpeg">
    </audio>
    <audio id="discovery-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/02/07/audio_f51d36c28b.mp3" type="audio/mpeg">
    </audio>
    <audio id="creak-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2021/08/04/audio_50275c9359.mp3" type="audio/mpeg">
    </audio>
    <audio id="unlock-sound" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/03/07/audio_8f44d80b91.mp3" type="audio/mpeg">
    </audio>
    <audio id="generator-start" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2022/01/18/audio_73d41f7158.mp3" type="audio/mpeg">
    </audio>
    <audio id="wave-crash" preload="auto">
        <source src="https://cdn.pixabay.com/audio/2023/07/19/audio_d19a37452d.mp3" type="audio/mpeg">
    </audio>

    <script type="module" src="/index.tsx"></script>
</body>
</html>